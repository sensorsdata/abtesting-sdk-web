define(function(){"use strict";var e={},t={sd:null,lib_version:"0.0.2",para:{},default_para:{url:"",path:"",project_key:"",timeout_milliseconds:3e3,update_interval:6e5,collect_bridge_status:!0,session_limit:6e5},value_type_list:["Number","String","Object","Boolean"],state:{platform:"",storage:{isSupport:!0,name:"sawebjssdkabtest"}},bridgeState:"",localdata:{},originalData:[],triggerList:{},trackTestTrigger:function(i,a){var s=t.sd.store.getDistinctId(),r=!0,n=!0;if(a=e.isObject(a)?a:{},!i.is_white_list&&(this.triggerList&&e.isObject(this.triggerList)&&("{}"!==JSON.stringify(this.triggerList)&&(n=!1),this.triggerList[s]&&e.isArray(this.triggerList[s])&&e.each(this.triggerList[s],function(e){e===i.abtest_experiment_id&&(r=!1)})),r)){var o={$abtest_experiment_id:i.abtest_experiment_id,$abtest_experiment_group_id:i.abtest_experiment_group_id};if(t.para.collect_bridge_status&&(o.$sdk_bridge_status=t.bridgeState),n){var l="web_abtesting:"+this.lib_version;o.$lib_plugin_version=[l]}var c=e.extend(o,a);this.sd.track("$ABTestTrigger",c)}},verifyStore:{valueType:function(t,i){switch(i){case"Number":if(e.isNumber(t))return!0;break;case"String":if(e.isString(t))return!0;break;case"Object":if(e.isObject(t))return!0;break;case"Boolean":if(t===!0||t===!1)return!0;break;default:return!1}return!1},para:function(i,a,s){var r={verify_success:!0,para:null};return e.each(s,function(s,n){if("essential"===s)switch(n){case"param_name":e.isString(a.param_name)&&a.param_name.length>0||(t.error(i+"\u65b9\u6cd5\u8c03\u7528\u5931\u8d25\uff0cparam_name\u53c2\u6570\u672a\u6b63\u786e\u914d\u7f6e\uff01param_name:",a.param_name),r.verify_success=!1);break;case"value_type":e.isString(a.value_type)&&e.indexOf(t.value_type_list,a.value_type)!==-1||(t.error(i+"\u65b9\u6cd5\u8c03\u7528\u5931\u8d25\uff0cvalue_type\u914d\u7f6e\u9519\u8bef",a.value_type),r.verify_success=!1);break;case"default_value":"undefined"==typeof a.default_value?(t.error(i+"\u65b9\u6cd5\u8c03\u7528\u5931\u8d25\uff0cdefault_value\u53c2\u6570\u672a\u914d\u7f6e"),r.verify_success=!1):t.verifyStore.valueType(a.default_value,a.value_type)||(t.error(i+"\u65b9\u6cd5\u8c03\u7528\u5931\u8d25\uff0cdefault_value\u7c7b\u578b\u5fc5\u987b\u4e0evalue_type\u4e00\u81f4\uff01",a.default_value,a.value_type),r.verify_success=!1);break;case"callback":e.isFunction(a.callback)||(t.error(i+"\u65b9\u6cd5\u8c03\u7528\u5931\u8d25\uff0ccallback\u53c2\u6570\u672a\u6b63\u786e\u914d\u7f6e"),r.verify_success=!1);break;default:r.verify_success=!1}else if("not_essential"===s)switch(n){case"timeout_milliseconds":a.timeout_milliseconds=a.timeout_milliseconds||t.para.timeout_milliseconds||t.default_para.timeout_milliseconds,(!e.isNumber(a.timeout_milliseconds)||e.isNumber(a.timeout_milliseconds)&&a.timeout_milliseconds<=0)&&(e.log("timeout_milliseconds \u53c2\u6570\u9519\u8bef",a.timeout_milliseconds),a.timeout_milliseconds=t.para.timeout_milliseconds),a.timeout_milliseconds<200&&(a.timeout_milliseconds=200);break;case"properties":a.properties=e.isObject(a.properties)?a.properties:{}}}),r.para=a,r}},dealResponseData:function(t,i){e.isObject(t)?"SUCCESS"===t.status?e.isArray(t.results)&&(this.originalData=t.results,this.updateLocalData(t.results,i)):"FAILED"===t.status&&e.log("\u83b7\u53d6\u8bd5\u9a8c\u5931\u8d25\uff1aerror_type\uff1a"+t.error_type+",error\uff1a"+t.error):e.log("\u8bd5\u9a8c\u6570\u636e\u89e3\u6790\u5931\u8d25\uff0cresponse \uff1a",t)},getRelativeValue:function(t,i){var a={},s={INTEGER:function(t){var i=parseFloat(t);isNaN(i)?e.log("\u539f\u59cb\u6570\u636e INTEGER \u7c7b\u578b\u89e3\u6790\u5f02\u5e38",t):(a.value=i,a.type="Number")},STRING:function(t){e.isString(t)?(a.value=t,a.type="String"):e.log("\u539f\u59cb\u6570\u636e STRING \u7c7b\u578b\u89e3\u6790\u5f02\u5e38",t)},JSON:function(t){var i=JSON.parse(t);e.isObject(i)?(a.value=i,a.type="Object"):e.log("\u539f\u59cb\u6570\u636e JSON \u7c7b\u578b\u89e3\u6790\u5f02\u5e38",t)},BOOLEAN:function(t){"true"===t?(a.value=!0,a.type="Boolean"):"false"===t?(a.value=!1,a.type="Boolean"):e.log("\u539f\u59cb\u6570\u636e BOOLEAN \u7c7b\u578b\u89e3\u6790\u5f02\u5e38",t)}};try{s[i]?s[i](t):e.log("\u8bd5\u9a8c\u6570\u636e\u7c7b\u578b\u89e3\u6790\u5931\u8d25",i,t)}catch(r){e.log(r,t,i)}return a},updateLocalData:function(t,i){this.analyzeData(t),this.updateStorage(i),e.log("\u66f4\u65b0\u8bd5\u9a8c\u6570\u636e\u6210\u529f")},updateStorage:function(e){var i=(new Date).getTime(),a={data:this.originalData,updateTime:i,triggerList:this.triggerList,distinct_id:e||t.sd.store.getDistinctId()};this.setStorageData(a)},analyzeData:function(i){var a=this;return e.isArray(i)?(this.localdata={},void e.each(i,function(i){e.isObject(i)&&i.variables&&e.isArray(i.variables)&&e.each(i.variables,function(s){e.isObject(s)&&!a.localdata[s.name]&&(a.localdata[s.name]={abtest_experiment_id:i.abtest_experiment_id,abtest_experiment_group_id:i.abtest_experiment_group_id,is_control_group:i.is_control_group,is_white_list:i.is_white_list,value:s.value,type:s.type,js_config:t.getRelativeValue(s.value,s.type)})})})):(e.log("\u89e3\u6790——\u6570\u636e\u683c\u5f0f\u9519\u8bef",i),!1)},initMethods:function(i){var a=["asyncFetchABTest","fastFetchABTest","fetchCacheABTest"];e.each(a,function(e){t[e]=i.methods[e]})},asyncFetchABTest:function(){t.error("asyncFetchABTest\u8c03\u7528\u5931\u8d25,A/B Testing\u672a\u521d\u59cb\u5316")},fastFetchABTest:function(){t.error("fastFetchABTest\u8c03\u7528\u5931\u8d25,A/B Testing\u672a\u521d\u59cb\u5316")},fetchCacheABTest:function(){t.error("fetchCacheABTest\u8c03\u7528\u5931\u8d25,A/B Testing\u672a\u521d\u59cb\u5316")},searchLocalExp:function(e){return t.localdata[e]?t.localdata[e]:null},getExpResult:function(i,a){var s=i.default_value,r=a?a:t.searchLocalExp(i.param_name);return e.isObject(r)?e.isObject(r.js_config)&&(r.js_config.type===i.value_type?(s=r.js_config.value,this.triggerHandle(r,i)):this.log("\u8bd5\u9a8c\u7ed3\u679c\u7c7b\u578b\u4e0e\u4ee3\u7801\u671f\u671b\u7c7b\u578b\u4e0d\u4e00\u81f4\uff0cparam_name\uff1a"+i.param_name+"\uff0c\u5f53\u524d\u8fd4\u56de\u7c7b\u578b\u4e3a\uff1a"+r.js_config.type+"\uff0c\u4ee3\u7801\u671f\u671b\u7c7b\u578b\u4e3a\uff1a"+i.value_type)):this.log("localdata\u672a\u67e5\u8be2\u5230\u8bd5\u9a8c\u6570\u636e\uff0c\u8bd5\u9a8c\u53c2\u6570\u540d\u79f0\uff1a"+i.param_name),s},triggerHandle:function(i,a){t.trackTestTrigger(i,a.properties);var s=i.abtest_experiment_id;if(e.isString(s)){var r=t.sd.store.getDistinctId();this.triggerList[r]&&e.isArray(this.triggerList[r])?(this.triggerList[r].push(s),this.triggerList[r]=e.unique(this.triggerList[r])):this.triggerList[r]=[s],this.updateStorage()}},getSA:function(t){return!!(e.isObject(t)&&e.isObject(t.readyState)&&t.readyState.state>=3)&&(this.sd=t,!0)},log:function(){if("object"==typeof console&&console.log){e.isString(arguments[0])&&(arguments[0]="sensorsabtest————"+arguments[0]);try{return console.log.apply(console,arguments)}catch(t){console.log(arguments[0])}}},error:function(){if("object"==typeof console&&console.error)try{return console.error.apply(console,arguments)}catch(e){console.error(arguments[0])}},checkSADebug:function(){var i=e.getQueryParam(location.href,"sensors_abtest_url"),a=e.getQueryParam(location.href,"feature_code"),s=+e.getQueryParam(location.href,"account_id");if(i.length&&a.length&&e.isNumber(s)&&0!==s){var r={distinct_id:t.sd.store.getDistinctId(),feature_code:a,account_id:s};e.ajax({url:i,type:"POST",data:JSON.stringify(r),credentials:!1,contentType:"application/json",timeout:t.para.timeout_milliseconds,cors:!0,success:function(){},error:function(t){e.log("distinct_id\u53d1\u9001\u5931\u8d25,err:",t)}})}},listenPageState:function(t){var i={visibleHandle:e.isFunction(t.visible)?t.visible:function(){},hiddenHandler:e.isFunction(t.hidden)?t.hidden:function(){},visibilityChange:null,hidden:null,isSupport:function(){return"undefined"!=typeof document[this.hidden]},init:function(){"undefined"!=typeof document.hidden?(this.hidden="hidden",this.visibilityChange="visibilitychange"):"undefined"!=typeof document.mozHidden?(this.hidden="mozHidden",this.visibilityChange="mozvisibilitychange"):"undefined"!=typeof document.msHidden?(this.hidden="msHidden",this.visibilityChange="msvisibilitychange"):"undefined"!=typeof document.webkitHidden&&(this.hidden="webkitHidden",this.visibilityChange="webkitvisibilitychange"),this.listen()},listen:function(){if(this.isSupport()){var e=this;document.addEventListener(e.visibilityChange,function(){document[e.hidden]?e.hiddenHandler():e.visibleHandle()},1)}else document.addEventListener?(window.addEventListener("focus",this.visibleHandle,1),window.addEventListener("blur",this.hiddenHandler,1)):(document.attachEvent("onfocusin",this.visibleHandle),document.attachEvent("onfocusout",this.hiddenHandler))}};i.init()},storage:{set:function(e,i){t.state.storage.isSupport&&window.localStorage.setItem(i,JSON.stringify(e))},get:function(i){var a=null;t.state.storage.isSupport&&(a=window.localStorage.getItem(i));try{a=JSON.parse(a)}catch(s){e.log(s)}return a}},getStorageData:function(){return this.storage.get(t.state.storage.name)},setStorageData:function(e){this.storage.set(e,t.state.storage.name)},fetchData:{timer:null,method:null,context:null,init:function(e,t){this.method=e,this.context=t,this.start(!0)},getServerData:function(){this.method.call(this.context)},setNextFetch:function(e){var i=this,a=e||t.para.update_interval;this.clearFetchTimer(this.timer),this.timer=setTimeout(function(){i.getServerData()},a)},start:function(i){var a=null,s=(new Date).getTime(),r=t.getStorageData(),n=t.sd.store.getDistinctId();if(r&&e.isObject(r)&&r.distinct_id===n)if(a=r.updateTime,i&&(t.originalData=r.data,t.analyzeData(r.data),a&&e.isNumber(a)&&s-a>0&&s-a<t.para.session_limit&&e.isObject(r.triggerList)&&(t.triggerList=r.triggerList)),a&&e.isNumber(a)&&s-a>0&&s-a<t.para.update_interval){e.log("\u6570\u636e\u4e0d\u66f4\u65b0",a,s);var o=s-a,l=t.para.update_interval-o;this.setNextFetch(l)}else e.log("\u7f13\u5b58\u6570\u636e\u8d85\u65f6",a,s),this.getServerData();else this.getServerData()},stop:function(){e.log("\u6e05\u7a7a\u62c9\u53d6\u5b9a\u65f6\u5668"),this.clearFetchTimer()},clearFetchTimer:function(){clearTimeout(this.timer),this.timer=null}},init:function(t,i){return this.sd?(this.log("A/B Testing SDK \u91cd\u590d\u521d\u59cb\u5316\uff01\u53ea\u6709\u7b2c\u4e00\u6b21\u521d\u59cb\u5316\u6709\u6548\uff01"),!1):(e=t._,e.log=function(){return e.isString(arguments[0])&&(arguments[0]="sensorsabtest————"+arguments[0]),t.log.apply(this,arguments)},this.getSA(t)?e.isObject(i)?("object"==typeof localStorage&&this.sd._.localStorage.isSupport()||(e.log("localstorage\u5f02\u5e38"),this.state.storage.isSupport=!1),void(t.bridge.is_verify_success?this.bridgeStore.init(i):this.normalStore.init(i))):(e.log("A/B Testing SDK \u521d\u59cb\u5316\u5931\u8d25\uff0c\u8bf7\u4f20\u5165\u6b63\u786e\u7684\u521d\u59cb\u5316\u53c2\u6570!para:",i),!1):(this.log("A/B Testing \u521d\u59cb\u5316\u5931\u8d25,Web JS SDK \u6ca1\u6709\u521d\u59cb\u5316\u5b8c\u6210"),!1))},store:{init:function(i,a){t.fetchData.init(i,a),t.initMethods(a),t.listenPageState({visible:function(){e.log("\u9875\u9762\u663e\u793a"),t.fetchData.start()},hidden:function(){t.fetchData.stop()}}),t.sd.events.on("changeDistinctId",function(e){t.localdata={},t.originalData=[],t.updateStorage(),t.fetchData.getServerData()}),t.sd.events.isReady()}},bridgeStore:{init:function(i){return!!this.setPara(i)&&(e.log("A/B Testing SDK \u521d\u59cb\u5316\u6210\u529f"),t.state.storage.name="sawebjssdkabtest_bridge",t.abBridge=new t.sd.JSBridge({type:"abtest",app_call_js:function(t){try{t=e.base64Decode(t)}catch(i){e.log("App\u6570\u636ebase64\u89e3\u7801\u5f02\u5e38",t)}try{t=JSON.parse(t),t.message_id&&this["double"](t)}catch(i){e.log("App\u6570\u636e\u89e3\u6790\u5f02\u5e38",t)}}}),e.isObject(window.SensorsData_iOS_JS_Bridge)&&window.SensorsData_iOS_JS_Bridge.sensorsdata_abtest_module&&t.abBridge.hasAppBridge()?t.bridgeState="ab_bridge_ok":e.isObject(window.SensorsData_APP_New_H5_Bridge)&&e.isFunction(window.SensorsData_APP_New_H5_Bridge.sensorsdata_abtest_module)&&window.SensorsData_APP_New_H5_Bridge.sensorsdata_abtest_module()&&t.abBridge.hasAppBridge()?t.bridgeState="ab_bridge_ok":t.bridgeState="ab_no_abtest_bridge",void t.store.init(this.getResultFromApp,this))},setPara:function(i){var a=t.verifyStore.para("\u6253\u901a\u521d\u59cb\u5316",i,{timeout_milliseconds:"not_essential"});return t.para=e.extend({},t.default_para,a.para),e.isBoolean(t.para.collect_bridge_status)||(t.para.collect_bridge_status=!0),e.isNumber(t.para.update_interval)||(t.para.update_interval=6e5),!0},getResultFromApp:function(i){function a(){"ab_bridge_ok"===t.bridgeState?t.abBridge.requestToApp({data:{properties:s.properties,timeout:o},callback:function(i){e.isObject(i)&&e.isObject(i.data)?(e.log("\u6210\u529f\u83b7\u53d6\u5230 App \u7aef\u8fd4\u56de\u7684\u8bd5\u9a8c\u6570\u636e","data:",i),t.dealResponseData(i.data),r&&r(i)):(e.log("App \u7aef\u8bf7\u6c42\u5931\u8d25"),n&&n()),t.fetchData.setNextFetch()},timeout:{time:o,callback:function(){e.log("\u83b7\u53d6App\u7aef\u6570\u636e\u5931\u8d25"),n&&n(),t.fetchData.setNextFetch()}}}):n&&(e.log("A/B Testing \u6253\u901a\u5931\u8d25\uff0c",t.bridgeState),n())}i=e.isObject(i)?i:{};var s=i.para||{},r=i.suc,n=i.err,o=s.timeout_milliseconds||t.para.timeout_milliseconds;e.log("\u5411App\u53d1\u8d77\u8bd5\u9a8c\u8bf7\u6c42"),a()},asyncFetch:function(i){t.bridgeStore.getResultFromApp({para:i,suc:function(a){if(e.isObject(a.properties)&&(i.properties=e.extend(a.properties,i.properties)),"SUCCESS"===a.data.status){var s=t.getExpResult(i);i.callback(s)}else i.callback(i.default_value)},err:function(){i.callback(i.default_value)}})},methods:{asyncFetchABTest:function(i){if(!e.isObject(i))return t.error("asyncFetchABTest\u8c03\u7528\u5931\u8d25\uff0c\u53c2\u6570\u672a\u6b63\u786e\u914d\u7f6e"),!1;var a=t.verifyStore.para("asyncFetchABTest",i,{param_name:"essential",value_type:"essential",default_value:"essential",callback:"essential",timeout_milliseconds:"not_essential",properties:"not_essential"});a.verify_success&&(i=a.para,"ab_bridge_ok"===t.bridgeState?t.bridgeStore.asyncFetch(i):i.callback(i.default_value))},fastFetchABTest:function(i){if(!e.isObject(i))return t.error("fastFetchABTest\u8c03\u7528\u5931\u8d25\uff0c\u53c2\u6570\u672a\u6b63\u786e\u914d\u7f6e"),!1;var a=t.verifyStore.para("fastFetchABTest",i,{param_name:"essential",value_type:"essential",default_value:"essential",callback:"essential",timeout_milliseconds:"not_essential",properties:"not_essential"});if(a.verify_success){i=a.para;var s=t.searchLocalExp(i.param_name);if(e.isObject(s)){var r=t.getExpResult(i,s);i.callback(r)}else e.log("fastFetchABTest\u7f13\u5b58\u4e2d\u672a\u8bfb\u53d6\u5230\u6570\u636e\uff0c\u53d1\u8d77\u8bf7\u6c42"),"ab_bridge_ok"===t.bridgeState?t.bridgeStore.asyncFetch(i):i.callback(i.default_value)}},fetchCacheABTest:function(i){if(!e.isObject(i))return void t.error("fetchCacheABTest\u8c03\u7528\u5931\u8d25\uff0c\u53c2\u6570\u672a\u6b63\u786e\u914d\u7f6e");var a=t.verifyStore.para("fetchCacheABTest",i,{param_name:"essential",value_type:"essential",default_value:"essential"});if(a.verify_success)return t.getExpResult(a.para)}}},normalStore:{init:function(i){return!!this.setPara(i)&&(t.bridgeState="ab_no_host_bridge",/Android|webOS|iPhone|iPod|BlackBerry/i.test(navigator.userAgent)?t.state.platform="H5":t.state.platform="Web",e.log("A/B Testing SDK \u521d\u59cb\u5316\u6210\u529f\uff0c\u8bd5\u9a8c URL\uff1a",i.url),t.checkSADebug(),void t.store.init(this.getResultFromServer,this))},setPara:function(i){if(!e.isString(i.url)||"http"!==i.url.slice(0,4))return e.log("A/B Testing SDK \u521d\u59cb\u5316\u5931\u8d25\uff0c\u8bf7\u4f7f\u7528\u6b63\u786e\u7684 URL\uff01"),!1;if("https"===location.protocol.slice(0,4)&&"http"===i.url.slice(0,4))return e.log("A/B Testing SDK \u521d\u59cb\u5316\u5931\u8d25\uff0chttps \u9875\u9762\u5fc5\u987b\u4f7f\u7528 https \u7684 URL"),!1;var a=e.getQueryParam(i.url,"project-key");if(!a)return e.log("A/B Testing SDK \u521d\u59cb\u5316\u5931\u8d25\uff0c\u8bf7\u4f7f\u7528\u6b63\u786e\u7684 URL\uff08\u5fc5\u987b\u5305\u542b project-key\uff09\uff01"),!1;i.project_key=a;var s=t.verifyStore.para("A/B Testing SDK \u521d\u59cb\u5316",i,{timeout_milliseconds:"not_essential"});return t.para=e.extend({},t.default_para,s.para),e.isBoolean(t.para.collect_bridge_status)||(t.para.collect_bridge_status=!0),e.isNumber(t.para.update_interval)||(t.para.update_interval=6e5),!0},asyncFetch:function(i){t.normalStore.getResultFromServer({para:i,suc:function(a){if(e.isObject(a)&&"SUCCESS"===a.status){var s=t.getExpResult(i);i.callback(s)}else i.callback(i.default_value)},err:function(){i.callback(i.default_value)}})},methods:{asyncFetchABTest:function(i){if(!e.isObject(i))return t.error("asyncFetchABTest\u8c03\u7528\u5931\u8d25\uff0c\u53c2\u6570\u672a\u6b63\u786e\u914d\u7f6e"),!1;var a=t.verifyStore.para("asyncFetchABTest",i,{param_name:"essential",value_type:"essential",default_value:"essential",callback:"essential",timeout_milliseconds:"not_essential",properties:"not_essential"});a.verify_success&&(i=a.para,t.normalStore.asyncFetch(i))},fastFetchABTest:function(i){if(!e.isObject(i))return t.error("fastFetchABTest\u8c03\u7528\u5931\u8d25\uff0c\u53c2\u6570\u672a\u6b63\u786e\u914d\u7f6e"),!1;var a=t.verifyStore.para("fastFetchABTest",i,{param_name:"essential",value_type:"essential",default_value:"essential",callback:"essential",timeout_milliseconds:"not_essential",properties:"not_essential"});if(a.verify_success){i=a.para;var s=t.searchLocalExp(i.param_name);if(e.isObject(s)){var r=t.getExpResult(i,s);i.callback(r)}else e.log("fastFetchABTest\u7f13\u5b58\u4e2d\u672a\u8bfb\u53d6\u5230\u6570\u636e\uff0c\u53d1\u8d77\u8bf7\u6c42"),t.normalStore.asyncFetch(i)}},fetchCacheABTest:function(i){if(!e.isObject(i))return void t.error("fetchCacheABTest\u8c03\u7528\u5931\u8d25\uff0c\u53c2\u6570\u672a\u6b63\u786e\u914d\u7f6e");var a=t.verifyStore.para("fetchCacheABTest",i,{param_name:"essential",value_type:"essential",default_value:"essential"});if(a.verify_success)return t.getExpResult(a.para)}},creatRequestData:function(i){var a="";e.isEmptyObject(t.sd.store._state)||(a=t.sd.store._state._first_id||t.sd.store._state.first_id||t.sd.store._state._distinct_id||t.sd.store._state.distinct_id);var s={anonymous_id:a,platform:t.state.platform,abtest_lib_version:t.lib_version,properties:{$is_first_day:e.cookie.getNewUser()}};return e.isObject(i.properties)&&(s.properties=e.extend({},s.properties,i.properties)),t.sd.store._state.first_id&&(s.login_id=t.sd.store.getDistinctId()),s},getResultFromServer:function(i){function a(){var i=t.sd.store.getDistinctId();e.ajax({url:t.para.url,type:"POST",data:JSON.stringify(o),credentials:!1,contentType:"application/json",timeout:s.timeout_milliseconds||t.para.timeout_milliseconds,cors:!0,success:function(e){t.dealResponseData(e,i),r&&r(e),t.fetchData.setNextFetch()},error:function(i){e.log("\u670d\u52a1\u7aef\u8bf7\u6c42\u53d1\u9001\u5931\u8d25",i),n&&n(),t.fetchData.setNextFetch()}})}i=e.isObject(i)?i:{};var s=i.para||{},r=i.suc,n=i.err,o=this.creatRequestData(s);e.log("\u5411\u670d\u52a1\u7aef\u53d1\u8d77\u8bd5\u9a8c\u8bf7\u6c42"),a()}}};return window.SensorsDataWebJSSDKPlugin&&"[object Object]"==Object.prototype.toString.call(window.SensorsDataWebJSSDKPlugin)?window.SensorsDataWebJSSDKPlugin.SensorsABTest=window.SensorsDataWebJSSDKPlugin.SensorsABTest||t:window.SensorsDataWebJSSDKPlugin={SensorsABTest:t},t});